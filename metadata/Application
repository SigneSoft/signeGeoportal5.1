{
    "type": "Ext.app.Application",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "controllers": [
            "controllerMapa",
            "controllerLogin"
        ],
        "models": [
            "modelParametro",
            "modelLogin"
        ],
        "name": "signeGeoportal",
        "stores": [
            "storeCatalogo",
            "storeParametro",
            "storeLogin"
        ],
        "views": [
            "Escritorio",
            "LegendPanel",
            "MapPanel",
            "Map",
            "ListaLayer",
            "InfoPanel",
            "ContentPanel",
            "VentanaParametro",
            "clsLogin"
        ],
        "xClase": 0
    },
    "name": "Application",
    "configAlternates": {
        "xMap": "object",
        "xLegend": "object",
        "xLayerStore": "object",
        "xInfo": "object",
        "xSlider": "object",
        "xTip": "object",
        "xClone": "object",
        "xMeasure": "object",
        "xClases": "number",
        "xClase": "number"
    },
    "designerId": "application",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "xMap",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xLegend",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xLayerStore",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xInfo",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xSlider",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xTip",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xClone",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xMeasure",
            "type": "string"
        },
        {
            "group": "(Custom Properties)",
            "name": "xClase",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.Loader",
            "reference": {
                "name": "loader",
                "type": "object"
            },
            "codeClass": null,
            "userConfig": {
                "paths": [
                    " {GeoExt: '../geoext2210/src/GeoExt'}"
                ]
            },
            "name": "Loader6",
            "designerId": "9fe8fb09-ad11-4e4a-9295-fe16a39831f7"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "launch",
                "implHandler": [
                    ""
                ]
            },
            "name": "launch",
            "designerId": "b043cf2f-eb12-433d-ad8d-a2143b8d4e82"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "titulo_capa, url_capa, nombre_capa, clone",
                    "variables",
                    "parametros",
                    "texto"
                ],
                "fn": "aniadirCapa",
                "implHandler": [
                    "if (!parametros){",
                    "    var wms = new OpenLayers.Layer.WMS(",
                    "        clone.title,",
                    "        clone.url,",
                    "        {layers:clone.name,",
                    "         transparent : 'true',",
                    "         format: 'image/png'",
                    "        },",
                    "        {opacity: 0.7,",
                    "         isBaseLayer: false,",
                    "         //displayInLayerSwitcher:false",
                    "         //     attribution: \"<img src='\"+url_capa+\"request=GetLegendGraphic&format=image/png&width=18&height=17&layer=\"+nombre_capa+\"&legend_options=fontName:Times%20New%20Roman;fontAntiAliasing:true;fontColor:0x000033;fontSize:12;bgColor:0xFFFFEE;dpi:180'>\"",
                    "        }",
                    "    );",
                    "",
                    "    signeGeoportal.xMap.map.addLayer(wms);",
                    "}else{",
                    "",
                    "",
                    "    var wms = new OpenLayers.Layer.WMS(",
                    "        clone.title + \" \" + texto,",
                    "        clone.url + variables,",
                    "        {layers:clone.name,",
                    "         transparent : 'true',",
                    "         format: 'image/png',",
                    "         viewparams: parametros,",
                    "        },",
                    "        {opacity: 0.7,",
                    "         isBaseLayer: false",
                    "         //displayInLayerSwitcher:false",
                    "         //     attribution: \"<img src='\"+url_capa+\"request=GetLegendGraphic&format=image/png&width=18&height=17&layer=\"+nombre_capa+\"&legend_options=fontName:Times%20New%20Roman;fontAntiAliasing:true;fontColor:0x000033;fontSize:12;bgColor:0xFFFFEE;dpi:180'>\"",
                    "        }",
                    "    );",
                    "",
                    "    signeGeoportal.xMap.map.addLayer(wms);",
                    "",
                    "    Ext.MessageBox.show({",
                    "        title: 'Mensaje del Sistema',",
                    "        msg: 'La capa se esta cargando al visor del mapa.',",
                    "        icon: Ext.MessageBox.INFO,",
                    "        buttons: Ext.Msg.OK",
                    "    });",
                    "}",
                    "",
                    ""
                ]
            },
            "name": "aniadirCapa",
            "designerId": "a1340267-0c8f-40c7-be26-da70db6ec608"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "obtenerLayer",
                "implHandler": [
                    "var arbolCapa = Ext.getCmp(\"treelayer\");",
                    "record = arbolCapa.getSelectionModel().getSelection()[0];",
                    "layer = signeGeoportal.xMap.map.getLayer(record.data.layer.id);",
                    "",
                    "return layer;",
                    "//alert(\"func cambiando opacidad\");",
                    "",
                    ""
                ]
            },
            "name": "obtenerLayer",
            "designerId": "88c0be0f-4510-4b7f-9798-4176aae4add5"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "element"
                ],
                "fn": "toggleControl",
                "implHandler": [
                    "for (var key in signeGeoportal.xMeasure) {",
                    "    if(element.id === \"lineToggle\"){",
                    "        value = \"line\";",
                    "    }else if(element.id === \"polygonToggle\"){",
                    "        value = \"polygon\";        ",
                    "    }else{",
                    "        value = \"none\";",
                    "    }",
                    "",
                    "    if (value === key && element.pressed) {",
                    "        signeGeoportal.xMeasure[key].activate();",
                    "    } else {",
                    "        signeGeoportal.xMeasure[key].deactivate();",
                    "    }",
                    "}"
                ]
            },
            "name": "toggleControl",
            "designerId": "66a7cf74-5ca1-472e-8065-134caa8fedbf"
        }
    ]
}